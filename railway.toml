# Railway Deployment Configuration
# https://docs.railway.app/deploy/railway-toml-file

[build]
  # Use package.json scripts for building
  builder = "NIXPACKS"

[deploy]
  # Run migrations before starting the server
  # Railway will run this command on every deploy
  startCommand = "npm run migrate && node src/app/server.js"
  
  # Restart policy
  restartPolicyType = "ON_FAILURE"
  restartPolicyMaxRetries = 10

[env]
  # Environment variables are managed in Railway dashboard




